<!DOCTYPE html> <!-- 1 -->
<html lang="pt-BR"> <!-- 2 -->
<head> <!-- 3 -->
  <meta charset="UTF-8" /> <!-- 4 -->
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/> <!-- 5 -->
  <title>Kensa Contador</title> <!-- 6 -->
  <style> <!-- 7 -->
    @font-face { /* 8 */
      font-family: 'DS-Digital'; /* 9 */
      src: url('./DS-DIGIT.TTF') format('truetype'); /* 10 */
      font-weight: normal; /* 11 */
      font-style: normal; /* 12 */
    } /* 13 */

    body { /* 14 */
      margin: 0; /* 15 */
      background-color: #000; /* 16 */
      color: #FFD54F; /* 17 */
      font-family: 'DS-Digital', monospace; /* 18 */
      height: 100vh; /* 19 */
      display: flex; /* 20 */
      flex-direction: column; /* 21 */
      justify-content: space-between; /* 22 */
      align-items: center; /* 23 */
      user-select: none; /* 24 */
    } /* 25 */

    .counters { /* 26 */
      flex: 1; /* 27 */
      display: flex; /* 28 */
      flex-direction: column; /* 29 */
      justify-content: center; /* 30 */
      align-items: center; /* 31 */
      font-size: 6em; /* 32 */
    } /* 33 */

    .labels { /* 34 */
      text-align: center; /* 35 */
      margin-top: 10px; /* 36 */
    } /* 37 */

    .touch-area { /* 38 */
      width: 100%; /* 39 */
      height: 40%; /* 40 */
      background: #333; /* 41 */
    } /* 42 */

    .footer { /* 43 */
      font-size: 0.8em; /* 44 */
      color: limegreen; /* 45 */
      align-self: flex-end; /* 46 */
      margin: 4px 8px; /* 47 */
    } /* 48 */

    button { /* 49 */
      margin: 6px; /* 50 */
      padding: 6px 12px; /* 51 */
      font-size: 1em; /* 52 */
      border-radius: 8px; /* 53 */
    } /* 54 */
  </style> <!-- 55 -->
</head> <!-- 56 -->
<body> <!-- 57 -->
  <div class="counters"> <!-- 58 -->
    <div id="c1">00</div> <!-- 59 -->
    <div class="labels">KENSA OK</div> <!-- 60 -->
    <div id="c2">00</div> <!-- 61 -->
    <div class="labels">PALLET OUT</div> <!-- 62 -->
    <div id="c3">000</div> <!-- 63 -->
    <div class="labels">KENSA TOTAL</div> <!-- 64 -->
  </div> <!-- 65 -->

  <div class="touch-area" id="touch"></div> <!-- 66 -->

  <div> <!-- 67 -->
    <button id="decrement">-1</button> <!-- 68 -->
    <button id="fullscreen">Tela Cheia</button> <!-- 69 -->
  </div> <!-- 70 -->

  <div class="footer">by FTS/c.gtp</div> <!-- 71 -->

  <script> <!-- 72 -->
    let c1 = 0, c2 = 0, c3 = 0; // 73
    let pressTimer; // 74

    function updateDisplay() { // 75
      document.getElementById('c1').textContent = String(c1).padStart(2, '0'); // 76
      document.getElementById('c2').textContent = String(c2).padStart(2, '0'); // 77
      document.getElementById('c3').textContent = String(c3).padStart(3, '0'); // 78
    } // 79

    function playAudio(file) { // 80
      const audio = new Audio(file); // 81
      audio.play().catch(()=>{}); // 82
    } // 83

    function increment() { // 84
      c1++; // 85
      if (c1 > 60) { // 86
        c1 = 1; // 87
        c2++; // 88
        if (c2 > 99) { // 89
          c2 = 0; // 90
          c3++; // 91
          if (c3 > 999) c3 = 0; // 92
        } // 93
      } // 94

      // lógica de áudio corrigida (ordem certa) // 95
      if (c1 === 60) { // 96
        playAudio('completed.mp3'); // 97
      } else if (c1 % 10 === 0) { // 98
        playAudio('beep-10.mp3'); // 99
      } else { // 100
        playAudio('beep.mp3'); // 101
      } // 102

      updateDisplay(); // 103
    } // 104

    function decrement() { // 105
      if (c1 > 0) { // 106
        c1--; // 107
      } else if (c2 > 0 || c3 > 0) { // 108
        c1 = 59; // 109
        if (c2 > 0) { // 110
          c2--; // 111
        } else if (c3 > 0) { // 112
          c3--; // 113
          c2 = 99; // 114
        } // 115
      } // 116
      updateDisplay(); // 117
    } // 118

    // reset segurando 2s // 119
    const touchArea = document.getElementById('touch'); // 120
    touchArea.addEventListener('mousedown', () => { // 121
      pressTimer = setTimeout(() => { // 122
        c1 = 0; c2 = 0; c3 = 0; // 123
        updateDisplay(); // 124
      }, 2000); // 125
    }); // 126
    touchArea.addEventListener('mouseup', () => clearTimeout(pressTimer)); // 127
    touchArea.addEventListener('mouseleave', () => clearTimeout(pressTimer)); // 128

    touchArea.addEventListener('click', increment); // 129
    document.getElementById('decrement').addEventListener('click', decrement); // 130

    document.getElementById('fullscreen').addEventListener('click', () => { // 131
      if (!document.fullscreenElement) { // 132
        document.documentElement.requestFullscreen(); // 133
      } else { // 134
        document.exitFullscreen(); // 135
      } // 136
    }); // 137

    updateDisplay(); // 138
  </script> <!-- 139 -->
</body> <!-- 140 -->
</html> <!-- 141 -->
